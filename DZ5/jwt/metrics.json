{"created": 1770130298.2593431, "duration": 56.54605960845947, "exitcode": 0, "root": "C:\\Work\\OTUS\\AI\\DZ5\\jwt", "environment": {}, "summary": {"passed": 16, "total": 16, "collected": 16}, "collectors": [{"nodeid": "", "outcome": "passed", "result": [{"nodeid": ".", "type": "Dir"}]}, {"nodeid": "simple_test.py", "outcome": "passed", "result": [{"nodeid": "simple_test.py::test_health_check", "type": "Function", "lineno": 39}, {"nodeid": "simple_test.py::test_generate_token", "type": "Function", "lineno": 45}, {"nodeid": "simple_test.py::test_protected_endpoints", "type": "Function", "lineno": 62}, {"nodeid": "simple_test.py::test_invalid_token", "type": "Function", "lineno": 84}, {"nodeid": "simple_test.py::test_wrong_credentials", "type": "Function", "lineno": 92}]}, {"nodeid": "test4", "outcome": "passed", "result": []}, {"nodeid": "test_client.py", "outcome": "passed", "result": [{"nodeid": "test_client.py::test_health_check", "type": "Function", "lineno": 20}, {"nodeid": "test_client.py::test_generate_token", "type": "Function", "lineno": 26}, {"nodeid": "test_client.py::test_protected_endpoints", "type": "Function", "lineno": 43}, {"nodeid": "test_client.py::test_invalid_token", "type": "Function", "lineno": 65}, {"nodeid": "test_client.py::test_wrong_credentials", "type": "Function", "lineno": 73}]}, {"nodeid": "test_jwt_service.py", "outcome": "passed", "result": [{"nodeid": "test_jwt_service.py::test_health_check", "type": "Function", "lineno": 31}, {"nodeid": "test_jwt_service.py::test_wrong_credentials", "type": "Function", "lineno": 38}, {"nodeid": "test_jwt_service.py::test_generate_token", "type": "Function", "lineno": 47}, {"nodeid": "test_jwt_service.py::test_invalid_token", "type": "Function", "lineno": 59}, {"nodeid": "test_jwt_service.py::test_protected_endpoints_with_urllib", "type": "Function", "lineno": 77}, {"nodeid": "test_jwt_service.py::test_protected_endpoints_with_requests", "type": "Function", "lineno": 103}]}, {"nodeid": ".", "outcome": "passed", "result": [{"nodeid": "simple_test.py", "type": "Module"}, {"nodeid": "test4", "type": "Dir"}, {"nodeid": "test_client.py", "type": "Module"}, {"nodeid": "test_jwt_service.py", "type": "Module"}]}], "tests": [{"nodeid": "simple_test.py::test_health_check", "lineno": 39, "outcome": "passed", "keywords": ["test_health_check", "simple_test.py", "jwt", ""], "setup": {"duration": 0.0001708999998299987, "outcome": "passed"}, "call": {"duration": 2.0352081999999427, "outcome": "passed", "stdout": "Testing health check...\n\n==================================================\nHealth Check\n==================================================\nStatus Code: 200\nResponse: {\n  \"service\": \"JWT Authentication Service\",\n  \"status\": \"running\",\n  \"version\": \"1.0.0\",\n  \"endpoints\": {\n    \"token\": \"POST /token - Generate JWT token\",\n    \"me\": \"GET /users/me - Get current user\",\n    \"protected\": \"GET /protected - Protected endpoint\",\n    \"validate\": \"GET /validate - Validate token\"\n  }\n}\n"}, "teardown": {"duration": 0.00017139999999926658, "outcome": "passed"}}, {"nodeid": "simple_test.py::test_generate_token", "lineno": 45, "outcome": "passed", "keywords": ["test_generate_token", "simple_test.py", "jwt", ""], "setup": {"duration": 0.00010870000005525071, "outcome": "passed"}, "call": {"duration": 2.020416700000169, "outcome": "passed", "stdout": "\nTesting token generation...\n\n==================================================\nToken Generation (Admin)\n==================================================\nStatus Code: 200\nResponse: {\n  \"access_token\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbiIsImV4cCI6MTc3MDEzMjA0NX0.8oTZckpiO-WjIgblsaN9kC7ZfDUBo4YLvEF0Fz1qbPE\",\n  \"token_type\": \"bearer\",\n  \"expires_in\": 1800\n}\n"}, "teardown": {"duration": 0.00014509999982692534, "outcome": "passed"}}, {"nodeid": "simple_test.py::test_protected_endpoints", "lineno": 62, "outcome": "passed", "keywords": ["test_protected_endpoints", "simple_test.py", "jwt", ""], "setup": {"duration": 0.0001483999994889018, "outcome": "passed"}, "call": {"duration": 8.059031800000412, "outcome": "passed", "stdout": "\nTesting token generation...\n\n==================================================\nToken Generation (Admin)\n==================================================\nStatus Code: 200\nResponse: {\n  \"access_token\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbiIsImV4cCI6MTc3MDEzMjA0N30.goysmaAPUZ1yW1MllqvSYSWHAFtqQzhsepI0548nWxs\",\n  \"token_type\": \"bearer\",\n  \"expires_in\": 1800\n}\n\n==================================================\nGet Current User\n==================================================\nStatus Code: 200\nResponse: {\n  \"username\": \"admin\",\n  \"disabled\": false\n}\n\n==================================================\nProtected Endpoint\n==================================================\nStatus Code: 200\nResponse: {\n  \"message\": \"Hello, admin! This is a protected endpoint.\",\n  \"user_info\": {\n    \"username\": \"admin\",\n    \"timestamp\": \"2026-02-03T14:50:51.873474\"\n  }\n}\n\n==================================================\nToken Validation\n==================================================\nStatus Code: 200\nResponse: {\n  \"valid\": true,\n  \"user\": {\n    \"username\": \"admin\",\n    \"authenticated_at\": \"2026-02-03T14:50:53.886309\"\n  }\n}\n"}, "teardown": {"duration": 0.0002009999998335843, "outcome": "passed"}}, {"nodeid": "simple_test.py::test_invalid_token", "lineno": 84, "outcome": "passed", "keywords": ["test_invalid_token", "simple_test.py", "jwt", ""], "setup": {"duration": 0.00017040000057022553, "outcome": "passed"}, "call": {"duration": 2.0078590000002805, "outcome": "passed", "stdout": "\nTesting with invalid token...\n\n==================================================\nInvalid Token Test\n==================================================\nStatus Code: 401\nResponse: {\n  \"detail\": \"Could not validate credentials\"\n}\n"}, "teardown": {"duration": 0.0002347999998164596, "outcome": "passed"}}, {"nodeid": "simple_test.py::test_wrong_credentials", "lineno": 92, "outcome": "passed", "keywords": ["test_wrong_credentials", "simple_test.py", "jwt", ""], "setup": {"duration": 0.00018900000031862874, "outcome": "passed"}, "call": {"duration": 2.0126554000007673, "outcome": "passed", "stdout": "\nTesting with wrong credentials...\n\n==================================================\nWrong Credentials Test\n==================================================\nStatus Code: 401\nResponse: {\n  \"detail\": \"Incorrect username or password\"\n}\n"}, "teardown": {"duration": 0.00020959999983460875, "outcome": "passed"}}, {"nodeid": "test_client.py::test_health_check", "lineno": 20, "outcome": "passed", "keywords": ["test_health_check", "test_client.py", "jwt", ""], "setup": {"duration": 0.00019999999949504854, "outcome": "passed"}, "call": {"duration": 2.0109510000002047, "outcome": "passed", "stdout": "Testing health check...\n\n==================================================\nHealth Check\n==================================================\nStatus Code: 200\nResponse: {\n  \"service\": \"JWT Authentication Service\",\n  \"status\": \"running\",\n  \"version\": \"1.0.0\",\n  \"endpoints\": {\n    \"token\": \"POST /token - Generate JWT token\",\n    \"me\": \"GET /users/me - Get current user\",\n    \"protected\": \"GET /protected - Protected endpoint\",\n    \"validate\": \"GET /validate - Validate token\"\n  }\n}\n"}, "teardown": {"duration": 0.00026330000036978163, "outcome": "passed"}}, {"nodeid": "test_client.py::test_generate_token", "lineno": 26, "outcome": "passed", "keywords": ["test_generate_token", "test_client.py", "jwt", ""], "setup": {"duration": 0.00016030000006139744, "outcome": "passed"}, "call": {"duration": 2.020382100000461, "outcome": "passed", "stdout": "\nTesting token generation...\n\n==================================================\nToken Generation (Admin)\n==================================================\nStatus Code: 200\nResponse: {\n  \"access_token\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbiIsImV4cCI6MTc3MDEzMjA2MX0.pEfcukldb9z2SkYCsgTk-N0iV9i_-JBqGW3jM6M7Ta8\",\n  \"token_type\": \"bearer\",\n  \"expires_in\": 1800\n}\n"}, "teardown": {"duration": 0.00020510000013018725, "outcome": "passed"}}, {"nodeid": "test_client.py::test_protected_endpoints", "lineno": 43, "outcome": "passed", "keywords": ["test_protected_endpoints", "test_client.py", "jwt", ""], "setup": {"duration": 0.00019799999972747173, "outcome": "passed"}, "call": {"duration": 8.066054599999916, "outcome": "passed", "stdout": "\nTesting token generation...\n\n==================================================\nToken Generation (Admin)\n==================================================\nStatus Code: 200\nResponse: {\n  \"access_token\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbiIsImV4cCI6MTc3MDEzMjA2M30.ELjz-za7DP85GUqNxGRQNQQ7hZg0xQwvQg3uehSdTTs\",\n  \"token_type\": \"bearer\",\n  \"expires_in\": 1800\n}\n\n==================================================\nGet Current User\n==================================================\nStatus Code: 200\nResponse: {\n  \"username\": \"admin\",\n  \"disabled\": false\n}\n\n==================================================\nProtected Endpoint\n==================================================\nStatus Code: 200\nResponse: {\n  \"message\": \"Hello, admin! This is a protected endpoint.\",\n  \"user_info\": {\n    \"username\": \"admin\",\n    \"timestamp\": \"2026-02-03T14:51:07.990624\"\n  }\n}\n\n==================================================\nToken Validation\n==================================================\nStatus Code: 200\nResponse: {\n  \"valid\": true,\n  \"user\": {\n    \"username\": \"admin\",\n    \"authenticated_at\": \"2026-02-03T14:51:10.008777\"\n  }\n}\n"}, "teardown": {"duration": 0.00020820000008825446, "outcome": "passed"}}, {"nodeid": "test_client.py::test_invalid_token", "lineno": 65, "outcome": "passed", "keywords": ["test_invalid_token", "test_client.py", "jwt", ""], "setup": {"duration": 0.0001584999999977299, "outcome": "passed"}, "call": {"duration": 2.0088656000007177, "outcome": "passed", "stdout": "\nTesting with invalid token...\n\n==================================================\nInvalid Token Test\n==================================================\nStatus Code: 401\nResponse: {\n  \"detail\": \"Could not validate credentials\"\n}\n"}, "teardown": {"duration": 0.00020709999989776406, "outcome": "passed"}}, {"nodeid": "test_client.py::test_wrong_credentials", "lineno": 73, "outcome": "passed", "keywords": ["test_wrong_credentials", "test_client.py", "jwt", ""], "setup": {"duration": 0.0002519999998185085, "outcome": "passed"}, "call": {"duration": 2.022089099999903, "outcome": "passed", "stdout": "\nTesting with wrong credentials...\n\n==================================================\nWrong Credentials Test\n==================================================\nStatus Code: 401\nResponse: {\n  \"detail\": \"Incorrect username or password\"\n}\n"}, "teardown": {"duration": 0.00027890000001207227, "outcome": "passed"}}, {"nodeid": "test_jwt_service.py::test_health_check", "lineno": 31, "outcome": "passed", "keywords": ["test_health_check", "test_jwt_service.py", "jwt", ""], "setup": {"duration": 0.00021440000000438886, "outcome": "passed"}, "call": {"duration": 2.011691900000187, "outcome": "passed"}, "teardown": {"duration": 0.0002839999997377163, "outcome": "passed"}}, {"nodeid": "test_jwt_service.py::test_wrong_credentials", "lineno": 38, "outcome": "passed", "keywords": ["test_wrong_credentials", "test_jwt_service.py", "jwt", ""], "setup": {"duration": 0.000257900000178779, "outcome": "passed"}, "call": {"duration": 2.016726199999539, "outcome": "passed"}, "teardown": {"duration": 0.00035910000042349566, "outcome": "passed"}}, {"nodeid": "test_jwt_service.py::test_generate_token", "lineno": 47, "outcome": "passed", "keywords": ["test_generate_token", "test_jwt_service.py", "jwt", ""], "setup": {"duration": 0.00016370000048482325, "outcome": "passed"}, "call": {"duration": 2.0174292000001515, "outcome": "passed"}, "teardown": {"duration": 0.00019119999979011482, "outcome": "passed"}}, {"nodeid": "test_jwt_service.py::test_invalid_token", "lineno": 59, "outcome": "passed", "keywords": ["test_invalid_token", "test_jwt_service.py", "jwt", ""], "setup": {"duration": 0.00015580000035697594, "outcome": "passed"}, "call": {"duration": 2.012636100000236, "outcome": "passed"}, "teardown": {"duration": 0.00020250000034138793, "outcome": "passed"}}, {"nodeid": "test_jwt_service.py::test_protected_endpoints_with_urllib", "lineno": 77, "outcome": "passed", "keywords": ["test_protected_endpoints_with_urllib", "test_jwt_service.py", "jwt", ""], "setup": {"duration": 2.025438500000746, "outcome": "passed"}, "call": {"duration": 6.049581799999942, "outcome": "passed"}, "teardown": {"duration": 0.00024680000024090987, "outcome": "passed"}}, {"nodeid": "test_jwt_service.py::test_protected_endpoints_with_requests", "lineno": 103, "outcome": "passed", "keywords": ["test_protected_endpoints_with_requests", "test_jwt_service.py", "jwt", ""], "setup": {"duration": 2.018792300000314, "outcome": "passed"}, "call": {"duration": 6.051569799999925, "outcome": "passed"}, "teardown": {"duration": 0.0002725000003920286, "outcome": "passed"}}], "warnings": [{"message": "Test functions should return None, but simple_test.py::test_generate_token returned <class 'str'>.\nDid you mean to use `assert` instead of `return`?\nSee https://docs.pytest.org/en/stable/how-to/assert.html#return-not-none for more information.", "category": "PytestReturnNotNoneWarning", "when": "runtest", "filename": "C:\\Work\\OTUS\\AI\\DZ5\\mcp\\.venv\\Lib\\site-packages\\_pytest\\python.py", "lineno": 170}, {"message": "Test functions should return None, but test_client.py::test_generate_token returned <class 'str'>.\nDid you mean to use `assert` instead of `return`?\nSee https://docs.pytest.org/en/stable/how-to/assert.html#return-not-none for more information.", "category": "PytestReturnNotNoneWarning", "when": "runtest", "filename": "C:\\Work\\OTUS\\AI\\DZ5\\mcp\\.venv\\Lib\\site-packages\\_pytest\\python.py", "lineno": 170}, {"message": "Test functions should return None, but test_jwt_service.py::test_generate_token returned <class 'str'>.\nDid you mean to use `assert` instead of `return`?\nSee https://docs.pytest.org/en/stable/how-to/assert.html#return-not-none for more information.", "category": "PytestReturnNotNoneWarning", "when": "runtest", "filename": "C:\\Work\\OTUS\\AI\\DZ5\\mcp\\.venv\\Lib\\site-packages\\_pytest\\python.py", "lineno": 170}]}