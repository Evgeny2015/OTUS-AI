{"created": 1770129472.8314333, "duration": 56.74997687339783, "exitcode": 0, "root": "C:\\Work\\OTUS\\AI\\DZ5\\jwt", "environment": {}, "summary": {"passed": 16, "total": 16, "collected": 16}, "collectors": [{"nodeid": "", "outcome": "passed", "result": [{"nodeid": ".", "type": "Dir"}]}, {"nodeid": "simple_test.py", "outcome": "passed", "result": [{"nodeid": "simple_test.py::test_health_check", "type": "Function", "lineno": 39}, {"nodeid": "simple_test.py::test_generate_token", "type": "Function", "lineno": 45}, {"nodeid": "simple_test.py::test_protected_endpoints", "type": "Function", "lineno": 62}, {"nodeid": "simple_test.py::test_invalid_token", "type": "Function", "lineno": 84}, {"nodeid": "simple_test.py::test_wrong_credentials", "type": "Function", "lineno": 92}]}, {"nodeid": "test4", "outcome": "passed", "result": []}, {"nodeid": "test_client.py", "outcome": "passed", "result": [{"nodeid": "test_client.py::test_health_check", "type": "Function", "lineno": 20}, {"nodeid": "test_client.py::test_generate_token", "type": "Function", "lineno": 26}, {"nodeid": "test_client.py::test_protected_endpoints", "type": "Function", "lineno": 43}, {"nodeid": "test_client.py::test_invalid_token", "type": "Function", "lineno": 65}, {"nodeid": "test_client.py::test_wrong_credentials", "type": "Function", "lineno": 73}]}, {"nodeid": "test_jwt_service.py", "outcome": "passed", "result": [{"nodeid": "test_jwt_service.py::test_health_check", "type": "Function", "lineno": 31}, {"nodeid": "test_jwt_service.py::test_wrong_credentials", "type": "Function", "lineno": 38}, {"nodeid": "test_jwt_service.py::test_generate_token", "type": "Function", "lineno": 47}, {"nodeid": "test_jwt_service.py::test_invalid_token", "type": "Function", "lineno": 59}, {"nodeid": "test_jwt_service.py::test_protected_endpoints_with_urllib", "type": "Function", "lineno": 77}, {"nodeid": "test_jwt_service.py::test_protected_endpoints_with_requests", "type": "Function", "lineno": 103}]}, {"nodeid": ".", "outcome": "passed", "result": [{"nodeid": "simple_test.py", "type": "Module"}, {"nodeid": "test4", "type": "Dir"}, {"nodeid": "test_client.py", "type": "Module"}, {"nodeid": "test_jwt_service.py", "type": "Module"}]}], "tests": [{"nodeid": "simple_test.py::test_health_check", "lineno": 39, "outcome": "passed", "keywords": ["test_health_check", "simple_test.py", "jwt", ""], "setup": {"duration": 0.00018980000004376052, "outcome": "passed"}, "call": {"duration": 2.0321751000001314, "outcome": "passed", "stdout": "Testing health check...\n\n==================================================\nHealth Check\n==================================================\nStatus Code: 200\nResponse: {\n  \"service\": \"JWT Authentication Service\",\n  \"status\": \"running\",\n  \"version\": \"1.0.0\",\n  \"endpoints\": {\n    \"token\": \"POST /token - Generate JWT token\",\n    \"me\": \"GET /users/me - Get current user\",\n    \"protected\": \"GET /protected - Protected endpoint\",\n    \"validate\": \"GET /validate - Validate token\"\n  }\n}\n"}, "teardown": {"duration": 0.00018600000021251617, "outcome": "passed"}}, {"nodeid": "simple_test.py::test_generate_token", "lineno": 45, "outcome": "passed", "keywords": ["test_generate_token", "simple_test.py", "jwt", ""], "setup": {"duration": 0.00011379999978089472, "outcome": "passed"}, "call": {"duration": 2.0323300999998537, "outcome": "passed", "stdout": "\nTesting token generation...\n\n==================================================\nToken Generation (Admin)\n==================================================\nStatus Code: 200\nResponse: {\n  \"access_token\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbiIsImV4cCI6MTc3MDEzMTIyMH0.DznhI-KG3pSiBIcegLU6MKUEHM7H1oxLzKYWwDmxRJY\",\n  \"token_type\": \"bearer\",\n  \"expires_in\": 1800\n}\n"}, "teardown": {"duration": 0.00016929999947024044, "outcome": "passed"}}, {"nodeid": "simple_test.py::test_protected_endpoints", "lineno": 62, "outcome": "passed", "keywords": ["test_protected_endpoints", "simple_test.py", "jwt", ""], "setup": {"duration": 0.00014010000086273067, "outcome": "passed"}, "call": {"duration": 8.06026699999984, "outcome": "passed", "stdout": "\nTesting token generation...\n\n==================================================\nToken Generation (Admin)\n==================================================\nStatus Code: 200\nResponse: {\n  \"access_token\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbiIsImV4cCI6MTc3MDEzMTIyMn0.WJZv7xL_2_Zba7m53dpfUUcSBaeBPFHbaajeqPvk8VQ\",\n  \"token_type\": \"bearer\",\n  \"expires_in\": 1800\n}\n\n==================================================\nGet Current User\n==================================================\nStatus Code: 200\nResponse: {\n  \"username\": \"admin\",\n  \"disabled\": false\n}\n\n==================================================\nProtected Endpoint\n==================================================\nStatus Code: 200\nResponse: {\n  \"message\": \"Hello, admin! This is a protected endpoint.\",\n  \"user_info\": {\n    \"username\": \"admin\",\n    \"timestamp\": \"2026-02-03T14:37:06.253943\"\n  }\n}\n\n==================================================\nToken Validation\n==================================================\nStatus Code: 200\nResponse: {\n  \"valid\": true,\n  \"user\": {\n    \"username\": \"admin\",\n    \"authenticated_at\": \"2026-02-03T14:37:08.269006\"\n  }\n}\n"}, "teardown": {"duration": 0.0002153999994334299, "outcome": "passed"}}, {"nodeid": "simple_test.py::test_invalid_token", "lineno": 84, "outcome": "passed", "keywords": ["test_invalid_token", "simple_test.py", "jwt", ""], "setup": {"duration": 0.00013770000077784061, "outcome": "passed"}, "call": {"duration": 2.007500299999265, "outcome": "passed", "stdout": "\nTesting with invalid token...\n\n==================================================\nInvalid Token Test\n==================================================\nStatus Code: 401\nResponse: {\n  \"detail\": \"Could not validate credentials\"\n}\n"}, "teardown": {"duration": 0.00038390000008803327, "outcome": "passed"}}, {"nodeid": "simple_test.py::test_wrong_credentials", "lineno": 92, "outcome": "passed", "keywords": ["test_wrong_credentials", "simple_test.py", "jwt", ""], "setup": {"duration": 0.0001266999997824314, "outcome": "passed"}, "call": {"duration": 2.012268400000721, "outcome": "passed", "stdout": "\nTesting with wrong credentials...\n\n==================================================\nWrong Credentials Test\n==================================================\nStatus Code: 401\nResponse: {\n  \"detail\": \"Incorrect username or password\"\n}\n"}, "teardown": {"duration": 0.00026900000011664815, "outcome": "passed"}}, {"nodeid": "test_client.py::test_health_check", "lineno": 20, "outcome": "passed", "keywords": ["test_health_check", "test_client.py", "jwt", ""], "setup": {"duration": 0.00025180000011459924, "outcome": "passed"}, "call": {"duration": 2.0140034999994896, "outcome": "passed", "stdout": "Testing health check...\n\n==================================================\nHealth Check\n==================================================\nStatus Code: 200\nResponse: {\n  \"service\": \"JWT Authentication Service\",\n  \"status\": \"running\",\n  \"version\": \"1.0.0\",\n  \"endpoints\": {\n    \"token\": \"POST /token - Generate JWT token\",\n    \"me\": \"GET /users/me - Get current user\",\n    \"protected\": \"GET /protected - Protected endpoint\",\n    \"validate\": \"GET /validate - Validate token\"\n  }\n}\n"}, "teardown": {"duration": 0.00018829999953595689, "outcome": "passed"}}, {"nodeid": "test_client.py::test_generate_token", "lineno": 26, "outcome": "passed", "keywords": ["test_generate_token", "test_client.py", "jwt", ""], "setup": {"duration": 0.00011890000041603344, "outcome": "passed"}, "call": {"duration": 2.0187493000003087, "outcome": "passed", "stdout": "\nTesting token generation...\n\n==================================================\nToken Generation (Admin)\n==================================================\nStatus Code: 200\nResponse: {\n  \"access_token\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbiIsImV4cCI6MTc3MDEzMTIzNn0.a_LYTW5ud6lsSshI93np3sdwzMFesJmqxcJZl3tMb1E\",\n  \"token_type\": \"bearer\",\n  \"expires_in\": 1800\n}\n"}, "teardown": {"duration": 0.0002016000007643015, "outcome": "passed"}}, {"nodeid": "test_client.py::test_protected_endpoints", "lineno": 43, "outcome": "passed", "keywords": ["test_protected_endpoints", "test_client.py", "jwt", ""], "setup": {"duration": 0.00012340000012045493, "outcome": "passed"}, "call": {"duration": 8.086861599999793, "outcome": "passed", "stdout": "\nTesting token generation...\n\n==================================================\nToken Generation (Admin)\n==================================================\nStatus Code: 200\nResponse: {\n  \"access_token\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbiIsImV4cCI6MTc3MDEzMTIzOH0.hwP1sqhPZwnY4po6hHqedhLRVqs2IuvZ5Yki1zGOmWU\",\n  \"token_type\": \"bearer\",\n  \"expires_in\": 1800\n}\n\n==================================================\nGet Current User\n==================================================\nStatus Code: 200\nResponse: {\n  \"username\": \"admin\",\n  \"disabled\": false\n}\n\n==================================================\nProtected Endpoint\n==================================================\nStatus Code: 200\nResponse: {\n  \"message\": \"Hello, admin! This is a protected endpoint.\",\n  \"user_info\": {\n    \"username\": \"admin\",\n    \"timestamp\": \"2026-02-03T14:37:22.401817\"\n  }\n}\n\n==================================================\nToken Validation\n==================================================\nStatus Code: 200\nResponse: {\n  \"valid\": true,\n  \"user\": {\n    \"username\": \"admin\",\n    \"authenticated_at\": \"2026-02-03T14:37:24.413527\"\n  }\n}\n"}, "teardown": {"duration": 0.0002395999999862397, "outcome": "passed"}}, {"nodeid": "test_client.py::test_invalid_token", "lineno": 65, "outcome": "passed", "keywords": ["test_invalid_token", "test_client.py", "jwt", ""], "setup": {"duration": 0.0002168000000892789, "outcome": "passed"}, "call": {"duration": 2.008586199999627, "outcome": "passed", "stdout": "\nTesting with invalid token...\n\n==================================================\nInvalid Token Test\n==================================================\nStatus Code: 401\nResponse: {\n  \"detail\": \"Could not validate credentials\"\n}\n"}, "teardown": {"duration": 0.0004314999996495317, "outcome": "passed"}}, {"nodeid": "test_client.py::test_wrong_credentials", "lineno": 73, "outcome": "passed", "keywords": ["test_wrong_credentials", "test_client.py", "jwt", ""], "setup": {"duration": 0.00018769999951473437, "outcome": "passed"}, "call": {"duration": 2.012152199999946, "outcome": "passed", "stdout": "\nTesting with wrong credentials...\n\n==================================================\nWrong Credentials Test\n==================================================\nStatus Code: 401\nResponse: {\n  \"detail\": \"Incorrect username or password\"\n}\n"}, "teardown": {"duration": 0.00018200000067736255, "outcome": "passed"}}, {"nodeid": "test_jwt_service.py::test_health_check", "lineno": 31, "outcome": "passed", "keywords": ["test_health_check", "test_jwt_service.py", "jwt", ""], "setup": {"duration": 0.00014419999934034422, "outcome": "passed"}, "call": {"duration": 2.005059600000095, "outcome": "passed"}, "teardown": {"duration": 0.00024529999973310623, "outcome": "passed"}}, {"nodeid": "test_jwt_service.py::test_wrong_credentials", "lineno": 38, "outcome": "passed", "keywords": ["test_wrong_credentials", "test_jwt_service.py", "jwt", ""], "setup": {"duration": 0.0002212999997937004, "outcome": "passed"}, "call": {"duration": 2.0277312999996866, "outcome": "passed"}, "teardown": {"duration": 0.0004752000004373258, "outcome": "passed"}}, {"nodeid": "test_jwt_service.py::test_generate_token", "lineno": 47, "outcome": "passed", "keywords": ["test_generate_token", "test_jwt_service.py", "jwt", ""], "setup": {"duration": 0.00017520000074000563, "outcome": "passed"}, "call": {"duration": 2.035900500000025, "outcome": "passed"}, "teardown": {"duration": 0.0001793000001271139, "outcome": "passed"}}, {"nodeid": "test_jwt_service.py::test_invalid_token", "lineno": 59, "outcome": "passed", "keywords": ["test_invalid_token", "test_jwt_service.py", "jwt", ""], "setup": {"duration": 0.00014120000014372636, "outcome": "passed"}, "call": {"duration": 2.0057050000004892, "outcome": "passed"}, "teardown": {"duration": 0.00023779999992257217, "outcome": "passed"}}, {"nodeid": "test_jwt_service.py::test_protected_endpoints_with_urllib", "lineno": 77, "outcome": "passed", "keywords": ["test_protected_endpoints_with_urllib", "test_jwt_service.py", "jwt", ""], "setup": {"duration": 2.017180699999699, "outcome": "passed"}, "call": {"duration": 6.233277299999827, "outcome": "passed"}, "teardown": {"duration": 0.000273399999969115, "outcome": "passed"}}, {"nodeid": "test_jwt_service.py::test_protected_endpoints_with_requests", "lineno": 103, "outcome": "passed", "keywords": ["test_protected_endpoints_with_requests", "test_jwt_service.py", "jwt", ""], "setup": {"duration": 2.018390499999441, "outcome": "passed"}, "call": {"duration": 6.035161899999366, "outcome": "passed"}, "teardown": {"duration": 0.0002580999998826883, "outcome": "passed"}}], "warnings": [{"message": "Test functions should return None, but simple_test.py::test_generate_token returned <class 'str'>.\nDid you mean to use `assert` instead of `return`?\nSee https://docs.pytest.org/en/stable/how-to/assert.html#return-not-none for more information.", "category": "PytestReturnNotNoneWarning", "when": "runtest", "filename": "C:\\Work\\OTUS\\AI\\DZ5\\mcp\\.venv\\Lib\\site-packages\\_pytest\\python.py", "lineno": 170}, {"message": "Test functions should return None, but test_client.py::test_generate_token returned <class 'str'>.\nDid you mean to use `assert` instead of `return`?\nSee https://docs.pytest.org/en/stable/how-to/assert.html#return-not-none for more information.", "category": "PytestReturnNotNoneWarning", "when": "runtest", "filename": "C:\\Work\\OTUS\\AI\\DZ5\\mcp\\.venv\\Lib\\site-packages\\_pytest\\python.py", "lineno": 170}, {"message": "Test functions should return None, but test_jwt_service.py::test_generate_token returned <class 'str'>.\nDid you mean to use `assert` instead of `return`?\nSee https://docs.pytest.org/en/stable/how-to/assert.html#return-not-none for more information.", "category": "PytestReturnNotNoneWarning", "when": "runtest", "filename": "C:\\Work\\OTUS\\AI\\DZ5\\mcp\\.venv\\Lib\\site-packages\\_pytest\\python.py", "lineno": 170}]}